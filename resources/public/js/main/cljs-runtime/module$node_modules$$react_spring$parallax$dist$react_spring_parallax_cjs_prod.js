shadow$provide.module$node_modules$$react_spring$parallax$dist$react_spring_parallax_cjs_prod=function(global,require,module,exports){function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var target={},
sourceKeys=Object.keys(source),i;for(i=0;i<sourceKeys.length;i++){var key=sourceKeys[i];0<=excluded.indexOf(key)||(target[key]=source[key])}return target}function getScrollType(horizontal){return horizontal?"scrollLeft":"scrollTop"}function mapChildrenRecursive(children,callback){return React__namespace.Children.map(children,child=>{var JSCompiler_inline_result=child.type?child.type===React__namespace.Fragment:child===React__namespace.Fragment;return JSCompiler_inline_result?mapChildrenRecursive(child.props.children,
callback):callback(child)})}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("module$node_modules$react$index"),shared=require("module$node_modules$$react_spring$shared$dist$react_spring_shared_cjs"),web=require("module$node_modules$$react_spring$web$dist$react_spring_web_cjs"),React__namespace=function(e){if(e&&e.__esModule)return e;var n=Object.create(null);e&&Object.keys(e).forEach(function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,
k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}});n["default"]=e;return Object.freeze(n)}(React);const _excluded=["horizontal","factor","offset","speed","sticky"],_excluded2="pages innerStyle config enabled horizontal children".split(" "),ParentContext=React__namespace.createContext(null);global=React__namespace.memo(React__namespace.forwardRef((_ref,ref)=>{let {horizontal,factor=1,offset=0,speed=0,sticky}=_ref;_ref=_objectWithoutPropertiesLoose(_ref,_excluded);const parent=React.useContext(ParentContext),
ctrl=shared.useMemoOne(()=>new web.Controller({space:sticky?parent.space:parent.space*factor,translate:sticky?(sticky.start||0)*parent.space:-(parent.current*speed)+(parent.space*offset+Math.floor(offset)*parent.space*speed)}),[]),layer=shared.useMemoOne(()=>({horizontal:void 0===horizontal||sticky?parent.horizontal:horizontal,sticky:void 0,isSticky:!1,setPosition(height,scrollTop,immediate=!1){if(sticky){{immediate=layer.sticky.start*height;height*=layer.sticky.end;const isSticky=scrollTop>=immediate&&
scrollTop<=height;isSticky!==layer.isSticky&&(layer.isSticky=isSticky,layerRef.current.style.position=isSticky?"sticky":"absolute",ctrl.set({translate:isSticky?0:scrollTop<immediate?immediate:height}))}}else ctrl.start({translate:-(scrollTop*speed)+(height*offset+Math.floor(offset)*height*speed),config:parent.config,immediate})},setHeight(height,immediate=!1){ctrl.start({space:sticky?height:height*factor,config:parent.config,immediate})}}),[]);shared.useOnce(()=>{if(sticky){const start=sticky.start||
0;layer.sticky={start,end:sticky.end||start+1}}});React__namespace.useImperativeHandle(ref,()=>layer);const layerRef=React.useRef();shared.useOnce(()=>{if(parent)return parent.layers.add(layer),parent.update(),()=>{parent.layers.delete(layer);parent.update()}});ref=ctrl.springs.translate.to(layer.horizontal?x=>`translate3d(${x}px,0,0)`:y=>`translate3d(0,${y}px,0)`);return React__namespace.createElement(web.a.div,_extends({},_ref,{ref:layerRef,style:_extends({position:"absolute",top:0,bottom:0,left:0,
right:0,backgroundSize:"auto",backgroundRepeat:"no-repeat",willChange:"transform",[layer.horizontal?"height":"width"]:"100%",[layer.horizontal?"width":"height"]:ctrl.springs.space,WebkitTransform:ref,msTransform:ref,transform:ref},_ref.style)}))}));require=React__namespace.memo(React__namespace.forwardRef((props,ref)=>{const [ready,setReady]=React.useState(!1),{pages,config=web.config.slow,enabled=!0,horizontal=!1,children}=props,rest=_objectWithoutPropertiesLoose(props,_excluded2),state=shared.useMemoOne(()=>
({config,horizontal,busy:!1,space:0,current:0,offset:0,controller:new web.Controller({scroll:0}),layers:new Set,update:()=>update(),scrollTo:offset=>scrollTo(offset),stop:()=>state.controller.stop()}),[]);React.useEffect(()=>{state.config=config},[config]);React__namespace.useImperativeHandle(ref,()=>state);const containerRef=React.useRef(),contentRef=React.useRef(),update=()=>{var container=containerRef.current;if(container){state.space=container[horizontal?"clientWidth":"clientHeight"];var scrollType=
getScrollType(horizontal);enabled?state.current=container[scrollType]:container[scrollType]=state.current=state.offset*state.space;(container=contentRef.current)&&(container.style[horizontal?"width":"height"]=`${state.space*pages}px`);state.layers.forEach(layer=>{layer.setHeight(state.space,!0);layer.setPosition(state.space,state.current,!0)})}},scrollTo=offset=>{const container=containerRef.current,scrollType=getScrollType(horizontal);state.offset=offset;state.controller.set({scroll:state.current});
state.controller.stop().start({scroll:offset*state.space,config,onChange({value:{scroll}}){container[scrollType]=scroll}})};React.useEffect(()=>state.update());shared.useOnce(()=>{setReady(!0);const onResize=()=>{const update=()=>state.update();shared.raf.onFrame(update);setTimeout(update,150)};window.addEventListener("resize",onResize,!1);return()=>window.removeEventListener("resize",onResize,!1)});ref=enabled?"scroll":"hidden";return React__namespace.createElement(web.a.div,_extends({},rest,{ref:containerRef,
onScroll:event=>{state.busy||(state.busy=!0,state.current=event.target[getScrollType(horizontal)],shared.raf.onStart(()=>{state.layers.forEach(layer=>layer.setPosition(state.space,state.current));state.busy=!1}))},onWheel:enabled?state.stop:void 0,onTouchStart:enabled?state.stop:void 0,style:_extends({position:"absolute",width:"100%",height:"100%",overflow:ref,overflowY:horizontal?"hidden":ref,overflowX:horizontal?ref:"hidden",WebkitOverflowScrolling:"touch",WebkitTransform:"translate(0px,0px)",msTransform:"translate(0px,0px)",
transform:"translate3d(0px,0px,0px)"},rest.style)}),ready&&React__namespace.createElement(React__namespace.Fragment,null,React__namespace.createElement(web.a.div,{ref:contentRef,style:_extends({overflow:"hidden",position:"absolute",[horizontal?"height":"width"]:"100%",[horizontal?"width":"height"]:state.space*pages,WebkitTransform:"translate(0px,0px)",msTransform:"translate(0px,0px)",transform:"translate3d(0px,0px,0px)"},props.innerStyle)},React__namespace.createElement(ParentContext.Provider,{value:state},
mapChildrenRecursive(children,child=>!child.props.sticky&&child))),React__namespace.createElement(ParentContext.Provider,{value:state},mapChildrenRecursive(children,child=>child.props.sticky&&child))))}));exports.Parallax=require;exports.ParallaxLayer=global}
//# sourceMappingURL=module$node_modules$$react_spring$parallax$dist$react_spring_parallax_cjs_prod.js.map
